(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[220],{9912:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var n=a(2122),r=a(1253),l=a(7294),c=(a(5697),a(6010)),o=a(4670),i=l.forwardRef((function(e,t){var a=e.classes,o=e.className,i=e.component,m=void 0===i?"div":i,s=(0,r.Z)(e,["classes","className","component"]);return l.createElement(m,(0,n.Z)({className:(0,c.Z)(a.root,o),ref:t},s))}));const m=(0,o.Z)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(i)},951:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var n=a(2122),r=a(1253),l=a(7294),c=(a(5697),a(6010)),o=a(4670),i=["video","audio","picture","iframe","img"],m=l.forwardRef((function(e,t){var a=e.children,o=e.classes,m=e.className,s=e.component,d=void 0===s?"div":s,u=e.image,h=e.src,p=e.style,v=(0,r.Z)(e,["children","classes","className","component","image","src","style"]),f=-1!==i.indexOf(d),E=!f&&u?(0,n.Z)({backgroundImage:'url("'.concat(u,'")')},p):p;return l.createElement(d,(0,n.Z)({className:(0,c.Z)(o.root,m,f&&o.media,-1!=="picture img".indexOf(d)&&o.img),ref:t,style:E,src:f?u||h:void 0},v),a)}));const s=(0,o.Z)({root:{display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},media:{width:"100%"},img:{objectFit:"cover"}},{name:"MuiCardMedia"})(m)},8463:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var n=a(2122),r=a(1253),l=a(7294),c=(a(5697),a(6010)),o=a(9895),i=a(4670),m=l.forwardRef((function(e,t){var a=e.classes,i=e.className,m=e.raised,s=void 0!==m&&m,d=(0,r.Z)(e,["classes","className","raised"]);return l.createElement(o.Z,(0,n.Z)({className:(0,c.Z)(a.root,i),elevation:s?8:1,ref:t},d))}));const s=(0,i.Z)({root:{overflow:"hidden"}},{name:"MuiCard"})(m)},3822:(e,t,a)=>{"use strict";var n=a(5318);t.Z=void 0;var r=n(a(7294)),l=(0,n(a(2108)).default)(r.default.createElement(r.default.Fragment,null,r.default.createElement("path",{d:"M13 13l-3-2.25L7 13V4H6v16h12V4h-5z",opacity:".3"}),r.default.createElement("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9 4h2v5l-1-.75L9 9V4zm9 16H6V4h1v9l3-2.25L13 13V4h5v16z"})),"BookTwoTone");t.Z=l},4310:(e,t,a)=>{"use strict";var n=a(5318);t.Z=void 0;var r=n(a(7294)),l=(0,n(a(2108)).default)(r.default.createElement(r.default.Fragment,null,r.default.createElement("path",{d:"M19 17.47c-.88-.07-1.75-.22-2.6-.45l-1.19 1.19c1.2.41 2.48.67 3.8.75v-1.49zM6.54 5h-1.5c.09 1.32.35 2.59.75 3.8l1.2-1.2c-.24-.84-.39-1.71-.45-2.6z",opacity:".3"}),r.default.createElement("path",{d:"M20 21c.55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17zm-3.6-3.98c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19zM5.03 5h1.5c.07.89.22 1.76.46 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79z"})),"CallTwoTone");t.Z=l},9238:(e,t,a)=>{"use strict";var n=a(5318);t.Z=void 0;var r=n(a(7294)),l=(0,n(a(2108)).default)(r.default.createElement(r.default.Fragment,null,r.default.createElement("circle",{cx:"17.5",cy:"17.5",r:"2.5",opacity:".3"}),r.default.createElement("path",{d:"M5 15.5h4v4H5zm7-9.66L10.07 9h3.86z",opacity:".3"}),r.default.createElement("path",{d:"M12 2l-5.5 9h11L12 2zm0 3.84L13.93 9h-3.87L12 5.84zM17.5 13c-2.49 0-4.5 2.01-4.5 4.5s2.01 4.5 4.5 4.5 4.5-2.01 4.5-4.5-2.01-4.5-4.5-4.5zm0 7c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zM11 13.5H3v8h8v-8zm-2 6H5v-4h4v4z"})),"CategoryTwoTone");t.Z=l},8428:(e,t,a)=>{"use strict";var n=a(5318);t.Z=void 0;var r=n(a(7294)),l=(0,n(a(2108)).default)(r.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=l},440:(e,t,a)=>{"use strict";var n=a(5318);t.Z=void 0;var r=n(a(7294)),l=(0,n(a(2108)).default)(r.default.createElement(r.default.Fragment,null,r.default.createElement("path",{d:"M13 4H6v16h12V9h-5V4zm3 14H8v-2h8v2zm0-6v2H8v-2h8z",opacity:".3"}),r.default.createElement("path",{d:"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"})),"DescriptionTwoTone");t.Z=l},1077:(e,t,a)=>{"use strict";var n=a(5318);t.Z=void 0;var r=n(a(7294)),l=(0,n(a(2108)).default)(r.default.createElement("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}),"InsertComment");t.Z=l},8220:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>M});var n=a(7294),r=a(2318),l=a(8463),c=a(1831),o=a(9912),i=a(951),m=a(2122),s=a(1253),d=(a(5697),a(6010)),u=a(4670),h=n.forwardRef((function(e,t){var a=e.action,l=e.avatar,c=e.classes,o=e.className,i=e.component,u=void 0===i?"div":i,h=e.disableTypography,p=void 0!==h&&h,v=e.subheader,f=e.subheaderTypographyProps,E=e.title,Z=e.titleTypographyProps,y=(0,s.Z)(e,["action","avatar","classes","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"]),g=E;null==g||g.type===r.Z||p||(g=n.createElement(r.Z,(0,m.Z)({variant:l?"body2":"h5",className:c.title,component:"span",display:"block"},Z),g));var b=v;return null==b||b.type===r.Z||p||(b=n.createElement(r.Z,(0,m.Z)({variant:l?"body2":"body1",className:c.subheader,color:"textSecondary",component:"span",display:"block"},f),b)),n.createElement(u,(0,m.Z)({className:(0,d.Z)(c.root,o),ref:t},y),l&&n.createElement("div",{className:c.avatar},l),n.createElement("div",{className:c.content},g,b),a&&n.createElement("div",{className:c.action},a))}));const p=(0,u.Z)({root:{display:"flex",alignItems:"center",padding:16},avatar:{flex:"0 0 auto",marginRight:16},action:{flex:"0 0 auto",alignSelf:"flex-start",marginTop:-8,marginRight:-8},content:{flex:"1 1 auto"},title:{},subheader:{}},{name:"MuiCardHeader"})(h);var v=a(282),f=a(9238),E=a(440),Z=a(3822),y=a(4310),g=a(8428),b=a(1077),z=a(4206),w=a.n(z);const k=(0,n.lazy)((()=>Promise.all([a.e(343),a.e(623)]).then(a.bind(a,8038)))),T=()=>n.createElement("p",null,"Loading");function H(e){const[t,a]=(0,n.useState)(!1),m=e.match.params.id,[s,d]=(0,n.useState)([]),[u,h]=(0,n.useState)([]),[z,H]=(0,n.useState)(""),[M,C]=(0,n.useState)(""),[N,S]=(0,n.useState)("");function V(e){fetch(`/api/comments/${e}/delete/`,{method:"DELETE",headers:{"Content-Type":"multipart/form-data"}}),window.location.reload(!1)}return(0,n.useEffect)((()=>{!async function(){fetch(`/api/posts/${m}/`).then((e=>e.json())).then((e=>d(e))).catch((e=>console.log(e))),fetch("/api/comments/").then((e=>e.json())).then((e=>h(e))).catch((e=>console.log(e)));const e={method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}};fetch("https://www.streho.com/api/loged-in/",e).then((e=>e.json())).then((e=>{C(e.username),S(e.user)}))}()}),[]),n.createElement(n.Fragment,null,n.createElement(n.Suspense,{fallback:T()},n.createElement(k,null)),function(){if(1==t)return window.scroll({top:0,left:0,behavior:"smooth"}),n.createElement("div",null,n.createElement("br",null),n.createElement("center",null,n.createElement(r.Z,{variant:"h4",component:"h4"},"A jeni te sigurte qe doni te fshihni kete postim?"),n.createElement(v.Z,{variant:"contained",color:"secondary",onClick:()=>{fetch(`/api/posts/${m}/delete/`,{method:"DELETE",headers:{"Content-Type":"multipart/form-data"}}).then((t=>e.history.push("/")))}},"Fshij"),n.createElement(v.Z,{variant:"contained",color:"default",onClick:()=>a(!1)},"Anulo")))}(),n.createElement(l.Z,{className:"detail"},n.createElement(n.Suspense,{fallback:T()},n.createElement(i.Z,{style:{aspectRatio:"16/9",width:"100%",objectFit:"cover"},image:s.photo})),n.createElement(o.Z,null,n.createElement(r.Z,{gutterBottom:!0,variant:"h2",component:"h2"},s.name,n.createElement("br",null),n.createElement(r.Z,{variant:"body1",color:"textSecondary"},s.data)),n.createElement(r.Z,{variant:"body1",color:"textSecondary"},"💵Shperblimi: ",s.reward," euro"),n.createElement(r.Z,{variant:"body2",color:"textSecondary"},n.createElement(y.Z,null),"Telefoni: ",s.phone),n.createElement(r.Z,{variant:"body2",color:"textSecondary"},n.createElement(f.Z,null),"Kategoria: ",s.category),n.createElement("br",null),n.createElement("br",null),n.createElement(r.Z,{variant:"h6",component:"p"},"🌆Qyteti: ",s.city),n.createElement(r.Z,{variant:"h6",component:"p"},"🐶Raca: ",s.breed),n.createElement("br",null),n.createElement(r.Z,{variant:"h5",component:"p"},n.createElement(Z.Z,null)," Tiparet dalluese: ",s.features),n.createElement(r.Z,{variant:"h5",component:"p"},n.createElement(E.Z,null),"Pershkrimi: ",s.description),n.createElement("br",null),function(){if(M===s.user)return n.createElement(n.Fragment,null,n.createElement(v.Z,{variant:"contained",color:"default",onClick:()=>a(!0)},"Fshij"))}(),n.createElement(r.Z,{variant:"h4",component:"p",style:{marginTop:"2%"}},"Komentet:"),n.createElement("br",null),u.map(((e,t)=>{if(e.post==s.id)return N==e.user?n.createElement(n.Fragment,null,n.createElement(l.Z,null,n.createElement(p,{title:e.comment,subheader:`User#${e.user} - ${e.date}`,avatar:n.createElement(v.Z,{onClick:V.bind(this,e.id)},n.createElement(g.Z,null))})),n.createElement("br",null)):n.createElement(n.Fragment,null,n.createElement(l.Z,null,n.createElement(p,{title:e.comment,subheader:`User#${e.user} - ${e.date}`,avatar:n.createElement(b.Z,null)})),n.createElement("br",null))})),n.createElement("form",{noValidate:!0,autoComplete:"off",style:{display:"flex",flexDirection:"row"}},n.createElement(c.Z,{id:"standard-basic",label:"Shtoni nje koment",style:{width:"80%"},onChange:function(e){H(e.target.value)}}),""!==M?n.createElement(v.Z,{variant:"contained",color:"primary",onClick:function(){let e=new FormData;e.append("comment",z),e.append("post",s.id),e.append("user",N),w().post("https://www.streho.com/api/create-comment/",e),window.location.reload(!1)},style:{width:"15%",marginLeft:"5%"}},"Komento"):n.createElement(n.Fragment,null,n.createElement(v.Z,{variant:"contained",color:"primary",href:"/login",style:{width:"15%",marginLeft:"5%"}},"Komento"))))))}const M=n.memo(H)}}]);